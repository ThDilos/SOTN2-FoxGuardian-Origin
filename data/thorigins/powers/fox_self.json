{
	"type": "origins:multiple",
	"name": "§e§nFox Body",
	"description": "Despite being a spititual guardian, you are still a Fox in nature.",

	"badges": [
		{
			"type": "origins:tooltip",
			"sprite": "minecraft:textures/item/sweet_berries.png",
			"text": [
				{
					"translate": "%s. Permanent Nightvision when no torch in <Offhand>.\n",
					"with": [
						{
							"text": "1",
							"color": "green"
						}
					]
				},
				{
					"translate": "%s. Foxes near you trust you.\n",
					"with": [
						{
							"text": "2",
							"color": "green"
						}
					]
				},
				{
					"translate": "%s. Ignore damage and slowdown of sweet berry bushes.\n",
					"with": [
						{
							"text": "3",
							"color": "green"
						}
					]
				},
				{
					"translate": "%s. Berries are 2x more effective.\n",
					"with": [
						{
							"text": "4",
							"color": "green"
						}
					]
				},
				{
					"translate": "%s. You move faster and jump higher when sprinting.\n",
					"with": [
						{
							"text": "5",
							"color": "green"
						}
					]
				},
				{
					"translate": "%s. You can tolerate falling from a slightly higher height.\n",
					"with": [
						{
							"text": "6",
							"color": "green"
						}
					]
				},
				{
					"translate": "%s. You have a smaller body size.\n",
					"with": [
						{
							"text": "7",
							"color": "yellow"
						}
					]
				},
				{
					"translate": "%s. Your base exhaustion rate is 1.5x.\n",
					"with": [
						{
							"text": "8",
							"color": "red"
						}
					]
				},
				{
					"translate": "%s. You lose air quicker in the water.\n",
					"with": [
						{
							"text": "9",
							"color": "red"
						}
					]
				},
				{
					"translate": "%s. You have 4 less Maximum Health.\n",
					"with": [
						{
							"text": "10",
							"color": "red"
						}
					]
				},
				{
					"translate": "%s. Heavy armor weakens you and slows you down.",
					"with": [
						{
							"text": "11",
							"color": "red"
						}
					]
				}
			]
		},
		{
			"type": "origins:tooltip",
			"sprite": "origins:textures/gui/badge/active.png",
			"text": [
				{
					"translate": "When holding nothing, press [%s] to eek.",
					"with": [
						{
							"keybind": "key.use",
							"color": "aqua"
						}
					]
				}
			]
		}
	],

	"eek": {
		"type": "origins:active_self",
		"cooldown": 5,
		"key": "key.use",
		"entity_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:spawn_particles",
					"particle": "minecraft:note",
					"count": 1,
					"offset_y": 1
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:sprinting"
					},
					"if_action": {
						"type": "origins:play_sound",
						"sound": "minecraft:entity.fox.screech",
						"category": "players",
						"pitch": 1,
						"volume": 1
					},
					"else_action": {
						"type": "origins:play_sound",
						"sound": "minecraft:entity.fox.ambient",
						"category": "players",
						"pitch": 1,
						"volume": 1
					}
				}
			]
		},
		"condition": {
			"type": "origins:and",
			"conditions": [
				{
					"type": "origins:equipped_item",
					"equipment_slot": "mainhand",
					"item_condition": {
						"type": "origins:empty"
					}
				},
				{
					"type": "origins:resource",
					"resource": "*:back_runes_fox_body",
					"compare_to": 0,
					"comparison": "=="
				},
				{
					"type": "origins:and",
					"inverted": true,
					"conditions": [
						{
							"type": "origins:resource",
							"resource": "*:raven_runes_gliding",
							"compare_to": 1,
							"comparison": "=="
						},
						{
							"type": "origins:resource",
							"resource": "*:raven_runes_rune_id",
							"compare_to": 2,
							"comparison": "=="
						}
					]
				}
			]
		}
	},

	"ticks_20": {
		"type": "origins:action_over_time",
		"interval": 20,
		"entity_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:execute_command",
					"command": "/tag @s add temp"
				},
				{
					"type": "origins:area_of_effect",
					"shape": "sphere",
					"radius": 15,
					"bientity_condition": {
						"type": "origins:target_condition",
						"condition": {
							"type": "origins:and",
							"conditions": [
								{
									"type": "origins:entity_type",
									"entity_type": "minecraft:fox"
								},
								{
									"type": "origins:nbt",
									"nbt": "{\"Tags\":[\"uuidappended\"]}",
									"inverted": true
								}
							]
						}
					},
					"bientity_action": {
						"type": "origins:target_action",
						"action": {
							"type": "origins:and",
							"actions": [
								{
									"type": "origins:execute_command",
									"command": "/data modify entity @s Trusted append from entity @p[tag=temp] UUID"
								},
								{
									"type": "origins:execute_command",
									"command": "/tag @s add uuidappended"
								}
							]
						}
					}
				},
				{
					"type": "origins:execute_command",
					"command": "/execute as @e[type=fox,tag=uuidappended] at @s unless entity @a[distance=..15,tag=temp] run tag @s remove uuidappended"
				},
				{
					"type": "origins:execute_command",
					"command": "/tag @s remove temp"
				}
			]
		}
	},

	"passive_nightvision": {
		"type": "origins:night_vision",
		"strength": 0.5,
		"condition": {
			"type": "origins:equipped_item",
			"inverted": true,
			"equipment_slot": "offhand",
			"item_condition": {
				"type": "origins:ingredient",
				"ingredient": {
					"item": "minecraft:torch"
				}
			}
		}
	},

	"ignore_bushes": {
		"type": "origins:phasing",
		"block_condition": {
			"type": "origins:block",
			"block": "sweet_berry_bush"
		},
		"render_type": "none",
		"condition": {
			"type": "origins:block_collision",
			"block_condition": {
				"type": "origins:block",
				"block": "sweet_berry_bush"
			}
		}
	},

	"berries": {
		"type": "origins:modify_food",
		"item_condition": {
			"type": "origins:or",
			"conditions": [
				{
					"type": "origins:ingredient",
					"ingredient": {
						"item": "minecraft:sweet_berries"
					}
				},
				{
					"type": "origins:ingredient",
					"ingredient": {
						"item": "minecraft:glow_berries"
					}
				}
			]
		},
		"food_modifier": {
			"operation": "multiply_total",
			"value": 2
		},
		"saturation_modifier": {
			"operation": "multiply_total",
			"value": 2
		}
	},

	"falling_tolerance": {
		"type": "origins:modify_damage_taken",
		"damage_condition": {
			"type": "origins:name",
			"name": "fall"
		},
		"modifier": {
			"operation": "addition",
			"value": -8
		}
	},

	"base_exhaustion": {
		"type": "origins:modify_exhaustion",
		"modifier": {
			"operation": "multiply_base",
			"value": 0.5
		}
	},

	"fast": {
		"type": "origins:modify_attribute",
		"attribute": "minecraft:generic.movement_speed",
		"modifier": {
			"operation": "multiply_base",
			"value": 0.2
		},
		"condition": {
			"type": "origins:and",
			"conditions": [
				{
					"type": "origins:sprinting"
				},
				{
					"type": "origins:sneaking",
					"inverted": true
				}
			]
		}
	},

	"jumpy": {
		"type": "origins:modify_jump",
		"modifier": {
			"operation": "multiply_base",
			"value": 0.4
		},
		"condition": {
			"type": "origins:power_active",
			"power": "*:*_fast"
		}
	},

	"smol": {
		"type": "origins:action_on_callback",
		"entity_action_gained": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:execute_command",
					"command": "/scale reset @s"
				},
				{
					"type": "origins:execute_command",
					"command": "/scale multiply pehkui:height 0.62 @s"
				},
				{
					"type": "origins:execute_command",
					"command": "/scale multiply pehkui:width 0.62 @s"
				}
			]
		},
		"entity_action_lost": {
			"type": "origins:execute_command",
			"command": "/scale reset @s"
		}
	},

	"small_lungs": {
		"type": "origins:action_over_time",
		"interval": 18,
		"entity_action": {
			"type": "origins:gain_air",
			"value": -12
		},
		"condition": {
			"type": "origins:and",
			"conditions": [
				{
					"type": "origins:submerged_in",
					"fluid": "minecraft:water"
				},
				{
					"type": "origins:air",
					"compare_to": 0,
					"comparison": ">"
				},
				{
					"type": "origins:status_effect",
					"effect": "minecraft:water_breathing",
					"inverted": true
				}
			]
		}
	},

	"less_health": {
		"type": "origins:conditioned_attribute",
		"tick_rate": 20,
		"modifier": {
			"attribute": "minecraft:generic.max_health",
			"operation": "addition",
			"value": -4
		}
	},

	"heavy_armor_effects": {
		"type": "origins:action_over_time",
		"interval": 20,
		"entity_action": {
			"type": "origins:apply_effect",
			"effects": [
				{
					"effect": "minecraft:slowness",
					"duration": 25,
					"amplifier": 1,
					"is_ambient": true,
					"show_particles": false,
					"show_icon": true
				},
				{
					"effect": "minecraft:weakness",
					"duration": 25,
					"amplifier": 0,
					"is_ambient": true,
					"show_icon": true,
					"show_particles": false
				}
			]
		},
		"condition": {
			"type": "origins:attribute",
			"attribute": "minecraft:generic.armor",
			"compare_to": 15,
			"comparison": ">"
		}
	},

	"eating_sound": {
		"type": "origins:action_on_item_use",
		"entity_action": {
			"type": "origins:play_sound",
			"sound": "minecraft:entity.fox.eat",
			"volume": 0.85,
			"pitch": 1.0,
			"category": "players"
		},
		"item_condition": {
			"type": "origins:food"
		}
	},

	"hurt_sound": {
		"type": "origins:action_when_damage_taken",
		"entity_action": {
			"type": "origins:play_sound",
			"sound": "minecraft:entity.fox.hurt",
			"volume": 0.5,
			"pitch": 1.0,
			"category": "players"
		},
		"condition": {
			"type": "origins:health",
			"comparison": ">",
			"compare_to": 0
		},
		"cooldown": 1
	},

	"death_sound": {
		"type": "origins:action_when_damage_taken",
		"cooldown": 0,
		"entity_action": {
			"type": "origins:if_else",
			"condition": {
				"type": "origins:health",
				"compare_to": 0,
				"comparison": "=="
			},
			"if_action": {
				"type": "origins:play_sound",
				"sound": "minecraft:entity.fox.death",
				"volume": 0.5,
				"pitch": 1.0,
				"category": "players"
			}
		}
	}
}
